{"version":3,"file":"about-84321af5.js","sources":["../../src/about.js"],"sourcesContent":["\"use strict\"\n\nimport gsap from \"gsap\";\n// import { TimelineLite } from \"otherLibs/gsap/all\";\nimport { ScrollTrigger } from 'gsap/ScrollTrigger';\nimport { SplitText } from \"./otherLibs/gsap/splitText\";\nimport Lenis from '@studio-freight/lenis';\n// import CSSRulePlugin from \"gsap/CSSRulePlugin\";\nimport simpleParallax from 'simple-parallax-js';\n\n\ngsap.registerPlugin(ScrollTrigger);\n\n// const timeline = new TimelineLite();\nconst text = new SplitText(\".content\", [\"words\"]);\n\nvar aboutIntro = document.querySelector('.container');\nif(aboutIntro) {\n\n\tgsap.from(text.words,{\n\t\topacity:0.1,\n\t\tstagger:0.2,\n\t\tease:\"none\",\n\t\tscrollTrigger:{\n\t\t\ttrigger:'.container-txt',\n\t\t\tstart:'center center',\n\t\t\tend: '7000',\n\t\t\tscrub: 1,\n\t\t\tpin:true,\n\t\t\tanticipatePin: true,\n\t\t\t// markers:true,\n\t\t}\n\t});\n\n};\n\nvar dust = document.querySelector('.section--about-title');\nif (dust){\n\tgsap.to('#myVideo',{\n\t\topacity:0,\n\t\tease: 'none',\n\t\tscrollTrigger: {\n\t\t\ttrigger: '.section--about-title',\n\t\t\tscrub: 2,\n\t\t\t// markers:true,\n\t\t\tstart: \"bottom bottom\",\n\t\t\tend: \"+=1000\",\n\t\t\ttoggleActions: \"play none none reverse\"\n      }\n\t})\n};\n\nvar br1 = document.querySelector('.section--about-start');\nif (br1) {\n\tgsap.to('.introduction__bg-image',{\n\t\topacity:1,\n\t\tease: 'none',\n\t\tscrollTrigger: {\n\t\t\ttrigger: '.introduction__content',\n\t\t\tstart: \"bottom bottom\",\n\t\t\tend: \"-=100%\",\n\t\t\ttoggleActions: \"play none none reverse\"\n      }\n\t})\n}\n\n\ngsap.from(\".title--medium\", {\n\topacity: 0,\n\tduration: .2,\n\tscrollTrigger: {\n\t\ttrigger: \".title--medium\",\n\t\tstart: \"bottom bottom\",\n\t\tend: \"top top\",\n\t\tscrub: 0.5,\n\t\tmarkers:true\n\t},\n})\n\n\n\n\n\n\n\n// var titleTrigger = document.querySelector('.title--medium');\n// if (titleTrigger) {\n\n\n// \tgsap.to(\".t1\", {\n// \t\tx: 100,\n// \t\topacity:1,\n// \t\tscrollTrigger:{\n// \t\t\ttrigger:'.title--medium',\n// \t\t\tscrub:1.5,\n// \t\t\t// markers:true\n// \t\t}\n\t\t\n// \t  });\n\n// \t  gsap.to(\".t2\", {\n// \t\tx: -100,\n// \t\tscrollTrigger:{\n// \t\t\ttrigger:'.title--medium',\n// \t\t\tscrub:1,\n// \t\t\t// markers:true\n// \t\t}\n\n// \t  });\n\n// }\n\n\n\n\n\n// const lenis = new Lenis({\n// \tduration: 1.5,\n// \teasing: (t) => Math.min(1, 1.001 - Math.pow(2, -10 * t)),\n// \tdirection: 'vertical', // vertical, horizontal\n// \tgestureDirection: 'vertical', // vertical, horizontal, both\n// \tsmooth: true,\n// \tmouseMultiplier: 1,\n// \tsmoothTouch: 0.1,\n// \tsmoothWheel:true,\n// \ttouchMultiplier: 1,\n// \tinfinite: false,\n// \t});\n\n// function raf(time) {\n// lenis.raf(time)\n// requestAnimationFrame(raf)\n// }\n\n// requestAnimationFrame(raf)\n  \n// //   get scroll value\n// //   lenis.on('scroll', ({ scroll, limit, velocity, direction, progress }) => {\n// //     console.log({ scroll, limit, velocity, direction, progress })\n// //   })\n  \n\n\n// lenis.on('scroll', ScrollTrigger.update)\n\n// gsap.ticker.add((time)=>{\n//   lenis.raf(time * 1000)\n// })\n\n\n\n \n\n\n  \nconst noclipTrigger = document.getElementById('video_noclip');\nconst noclipTriggerContext = noclipTrigger.getContext('2d');\n\nnoclipTrigger.height = innerHeight;\nnoclipTrigger.width = innerWidth;\n\nconst noclipTriggerInfo = {\n\ttotalFrames : 147,\n\ttotalTime:7,\n\timages:[],\n\tcurrentFrame:19,\n\tcurrentImage : (index) => `./images/noclipFrames/ezgif-frame-${index.toString().padStart(3,\"0\")}.jpg`,\n};\n\nfor (let i=0; i <= noclipTriggerInfo.totalFrames; i++){\n\tconst img = new Image();\n\timg.src = noclipTriggerInfo.currentImage(i);\n\tnoclipTriggerInfo.images.push(img);\n}\n\ngsap.to(noclipTriggerInfo,{\n\tcurrentFrame: noclipTriggerInfo.totalFrames,\n\tsnap:\"currentFrame\",\n\tease:\"none\",\n\tscrollTrigger:{\n\t\ttrigger: '#video_noclip',\n\t\tstart:\"top\",\n\t\t// end:`bottom+=${noclipTrigger.totalFrames*noclipTriggerInfo.totalTime}`,\n\t\tend: '1000',\n\t\tpin:'#video_noclip',\n\t\tscrub:true,\n\t\t// markers:true\n\t},\n\tonUpdate:render,\n});\n\n\nnoclipTriggerInfo.images[0].onload = () => {\n\tnoclipTriggerContext.drawImage(\n\t\tnoclipTriggerInfo.images[0],\n\t\t 0, \n\t\t 0\n\t);\n}\n\nnoclipTriggerInfo.images[0].onload = () => {\n\tnoclipTriggerContext.drawImage(noclipTriggerInfo.images[0], 0, 0)\n};\n\n\nfunction render(){\n\tnoclipTriggerContext.drawImage(\n\t\tnoclipTriggerInfo.images[noclipTriggerInfo.currentFrame],\n\t\t 0, \n\t\t 0\n\t);\n}\n\nrender();\ngsap.to(noclipTriggerInfo,{\n\topacity:0,\n\tease: 'none',\n\tscrollTrigger: {\n\t\ttrigger: '#video_noclip',\n\t\tscrub: 2,\n\t\tmarkers:true,\n\t\tstart: \"top top\",\n\t\tend: \"bottom bottom\",\n\t\ttoggleActions: \"play none none reverse\"\n  }\n});\n\n\n\nvar plx = document.querySelector('.bg-image');\nif(plx){\n\tgsap.from(\".bg-image\", {\n\t\topacity: 0,\n\t\tduration: .5,\n\t\tscrollTrigger: {\n\t\t\ttrigger: \".bg-image\",\n\t\t\tstart: \"-500\",\n\t\t\tend: \"bottom bottom\",\n\t\t\tscrub: 0.5,\n\t\t\tpin: \".bg-image\",\n\t\t\tmarkers:true\n\t\t},\n\t})\n};\n\n\n\nvar image = document.getElementsByClassName('og-br');\n\tnew simpleParallax(image, {\n\t\toverflow: true,\n\t\tdelay: .6,\n\t\ttransition: 'cubic-bezier(0,0,0,2)',\n\t\t\n\t},\n);\n\nvar universBg = document.getElementsByClassName('univers__bg');\n\tnew simpleParallax(universBg, {\n\t\toverflow: true,\n\t\tdelay: .6,\n\t\ttransition: 'cubic-bezier(0,0,0,1)',\n\t\t\n\t},\n);\n// var universTxt = document.getElementsByClassName('ending');\n// \tnew simpleParallax(universTxt, {\n// \t\toverflow: true,\n// \t\tdelay: .4,\n\t\t\n// \t},\n// );\n\n\n// var ent1 = document.getElementsByClassName('img--1');\n// new simpleParallax(ent1, {\n// \toverflow: true,\n// \tdelay: 2,\n// \ttransition: 'cubic-bezier(5,0,0,1)'\n// });\n\n// var ent2 = document.getElementsByClassName('img--2');\n// new simpleParallax(ent2, {\n// \toverflow: true,\n// \tdelay: 4,\n// \ttransition: 'cubic-bezier(20,20,5,20)'\n// });\n\n\nvar image = document.getElementsByClassName('level-01');\n        new simpleParallax(image, {\n            orientation: 'right',\n\t\t\tscale: 1.5,\n\t\t\tdelay: 2,\n\t\t\tmaxTransition: 60\n        });\n\n\n//swiper\nconst spaceHolder = document.querySelector('.space-holder');\nconst horizontal = document.querySelector('.horizontal');\nspaceHolder.style.height = `${calcDynamicHeight(horizontal)}px`;\n\nfunction calcDynamicHeight(ref) {\n  const vw = window.innerWidth;\n  const vh = window.innerHeight;\n  const objectWidth = ref.scrollWidth;\n  return objectWidth - vw + vh + 150; // 150 is the padding (in pixels) desired on the right side of the .cards container. This can be set to whatever your styles dictate\n}\n\nwindow.addEventListener('scroll', () => {\n  const sticky = document.querySelector('.sticky');\n  horizontal.style.transform = `translateX(-${sticky.offsetTop}px)`;\n});\n\nwindow.addEventListener('resize', () => {\n  spaceHolder.style.height = `${calcDynamicHeight(horizontal)}px`;\n});\n\n\n\n\nfunction messageClipping() {\n\tvar charlimit = 200;\n\tvar readmorelink = \"Plus\";\n\tvar readlesslink = \"Moins\";\n  \n\t$(\".message-wrapper\").each(function () {\n\t  if ($(this).find(\".firsthalf\").lenght) return;\n  \n\t  var allstr = $(this).html();\n\t  if (allstr.length > charlimit) {\n\t\tvar firstset = allstr.substring(0, charlimit);\n\t\tvar secondhalf = allstr.substring(charlimit, allstr.length);\n\t\tvar charclip =\n\t\t  firstset +\n\t\t  '<span class=\"clipmessage\">' +\n\t\t  secondhalf +\n\t\t  '</span><span class=\"readless\" title=\"Click to show more text\">' +\n\t\t  readmorelink +\n\t\t  '</span><span class=\"readmore\" title=\"Click to show less text\">' +\n\t\t  readlesslink +\n\t\t  \"</span>\";\n\t\t$(this).html(charclip);\n\t  }\n\t});\n\t$(document).on(\"click\", \".readmore,.readless\", function () {\n\t  $(this)\n\t\t.closest(\".message-wrapper\")\n\t\t.toggleClass(\"showlesscontent showmorecontent\");\n\t});\n  }\n  \n  $(function () {\n\tmessageClipping();\n  }); "],"names":["gsap","ScrollTrigger","text","SplitText","aboutIntro","dust","br1","noclipTrigger","noclipTriggerContext","noclipTriggerInfo","index","i","img","render","plx","image","simpleParallax","universBg","spaceHolder","horizontal","calcDynamicHeight","ref","vw","vh","sticky","messageClipping","charlimit","readmorelink","readlesslink","allstr","firstset","secondhalf","charclip"],"mappings":"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"}