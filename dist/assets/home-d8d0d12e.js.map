{"version":3,"file":"home-d8d0d12e.js","sources":["../../src/index.js"],"sourcesContent":["\"use strict\"\n\nimport gsap from \"gsap\";\n// import { TimelineLite } from \"otherLibs/gsap/all\";\nimport { ScrollTrigger } from 'gsap/ScrollTrigger';\nimport { SplitText } from \"./otherLibs/gsap/splitText.js\";\nimport Lenis from '@studio-freight/lenis';\n// import CSSRulePlugin from \"gsap/CSSRulePlugin\";\n\n\ngsap.registerPlugin(ScrollTrigger);\n\nconst timeline = new TimelineLite();\nconst text = new SplitText(\".content\", [\"words\"]);\n\nvar aboutIntro = document.querySelector('.section--about-intro');\nif(aboutIntro) {\n\n\tgsap.from(text.words,{\n\t\topacity:0.15,\n\t\tstagger:0.8,\n\t\tease:\"none\",\n\t\tscrollTrigger:{\n\t\t\ttrigger:'.container-txt',\n\t\t\tstart:'center center',\n\t\t\tend: \"top top\",\n\t\t\tscrub:true,\n\t\t\tpin:true,\n\t\t\t// anticipatePin: true,\n\t\t\t// markers:true,\n\t\t\t// once: true,\n\t\t}\n\t});\n\n\tconst lenisText = new Lenis({\n\t\tduration: 5,\n\t\teasing: (t) => Math.min(1, 1.001 - Math.pow(2, -10 * t)),\n\t\tdirection: 'vertical', // vertical, horizontal\n\t\tgestureDirection: 'vertical', // vertical, horizontal, both\n\t\tsmooth: true,\n\t\tmouseMultiplier: 1,\n\t\tsmoothTouch: 0.1,\n\t\tsmoothWheel:true,\n\t\ttouchMultiplier: 1,\n\t\tinfinite: false,\n\t\t});\n\t\n\tfunction raf(time) {\n\tlenisText.raf(time)\n\trequestAnimationFrame(raf)\n\t}\n\t\n\trequestAnimationFrame(raf)\n};\n\nvar dust = document.querySelector('.section--about-title');\nif (dust){\n\tgsap.to('#myVideo',{\n\t\topacity:0,\n\t\tease: 'none',\n\t\tscrollTrigger: {\n\t\t\ttrigger: '.section--about-title',\n\t\t\tscrub: 2,\n\t\t\t// markers:true,\n\t\t\tstart: \"bottom bottom\",\n\t\t\tend: \"+=1000\",\n\t\t\ttoggleActions: \"play none none reverse\"\n      }\n\t})\n};\n\nvar br1 = document.querySelector('.section--about-start');\nif (br1) {\n\tgsap.to('.introduction__bg-image',{\n\t\topacity:1,\n\t\tease: 'none',\n\t\tscrollTrigger: {\n\t\t\ttrigger: '.introduction__content',\n\t\t\tstart: \"bottom bottom\",\n\t\t\tend: \"-=1000\",\n\t\t\ttoggleActions: \"play none none reverse\"\n      }\n\t})\n}\n\nvar titleTrigger = document.querySelector('.title--medium');\nif (titleTrigger) {\n\n\tgsap.to(\".t1\", {\n\t\tx: 180,\n\t\topacity:1,\n\t\tscrollTrigger:{\n\t\t\ttrigger:'.section--about-start',\n\t\t\tscrub:1.5,\n\t\t\tmarkers:true\n\t\t}\n\t\t\n\t  });\n\n\t  gsap.to(\".t2\", {\n\t\tx: -400,\n\t\tscrollTrigger:{\n\t\t\ttrigger:'.section--about-start',\n\t\t\tscrub:3,\n\t\t\tmarkers:true\n\t\t}\n\n\t  });\n\t  gsap.to(\".t3\", {\n\t\tx: 200,\n\t\tscrollTrigger:{\n\t\t\ttrigger:'.section--about-start',\n\t\t\tscrub:1.5,\n\t\t\tmarkers:true\n\t\t}\n\t\t\n\t  });\n}\n\n\n\n\n\nconst lenis = new Lenis({\n\tduration: 1.5,\n\teasing: (t) => Math.min(1, 1.001 - Math.pow(2, -10 * t)),\n\tdirection: 'vertical', // vertical, horizontal\n\tgestureDirection: 'vertical', // vertical, horizontal, both\n\tsmooth: true,\n\tmouseMultiplier: 1,\n\tsmoothTouch: 0.1,\n\tsmoothWheel:true,\n\ttouchMultiplier: 1,\n\tinfinite: false,\n\t});\n\nfunction raf(time) {\nlenis.raf(time)\nrequestAnimationFrame(raf)\n}\n\nrequestAnimationFrame(raf)\n  \n//   get scroll value\n//   lenis.on('scroll', ({ scroll, limit, velocity, direction, progress }) => {\n//     console.log({ scroll, limit, velocity, direction, progress })\n//   })\n  \n\n\n// lenis.on('scroll', ScrollTrigger.update)\n\n// gsap.ticker.add((time)=>{\n//   lenis.raf(time * 1000)\n// })\n\n\nvar intro = document.querySelector('.intro');\nif(intro) {\n\n\tconst hideIntro = () => {\n\t\tconst intro = document.querySelector('.intro');\n\t\tintro.classList.add(\"hidden\");\n\t  }\n\t  \n\tdocument.querySelector('#hide-intro').addEventListener('click', hideIntro);\n};\n\n\n\n  \n\n\n  var hoverMouse = function($el) {\n\t$el.each(function() {\n\t  var $self = $(this);\n\t  var hover = false;\n\t  var offsetHoverMax = $self.attr(\"offset-hover-max\") || 0.7;\n\t  var offsetHoverMin = $self.attr(\"offset-hover-min\") || 0.5;\n  \n\t  var attachEventsListener = function() {\n\t\t$(window).on(\"mousemove\", function(e) {\n\t\t  //\n\t\t  var hoverArea = hover ? offsetHoverMax : offsetHoverMin;\n  \n\t\t  // cursor\n\t\t  var cursor = {\n\t\t\tx: e.clientX,\n\t\t\ty: e.clientY - $(window).scrollTop()\n\t\t  };\n  \n\t\t  // size\n\t\t  var width = $self.outerWidth();\n\t\t  var height = $self.outerHeight();\n  \n\t\t  // position\n\t\t  var offset = $self.offset();\n\t\t  var elPos = {\n\t\t\tx: offset.left + width / 2,\n\t\t\ty: offset.top + height / 2\n\t\t  };\n  \n\t\t  // comparaison\n\t\t  var x = cursor.x - elPos.x;\n\t\t  var y = cursor.y - elPos.y;\n  \n\t\t  // dist\n\t\t  var dist = Math.sqrt(x * x + y * y);\n  \n\t\t  // mutex hover\n\t\t  var mutHover = false;\n  \n\t\t  // anim\n\t\t  if (dist < width * hoverArea) {\n\t\t\tmutHover = true;\n\t\t\tif (!hover) {\n\t\t\t  hover = true;\n\t\t\t}\n\t\t\tonHover(x, y);\n\t\t  }\n  \n\t\t  // reset\n\t\t  if (!mutHover && hover) {\n\t\t\tonLeave();\n\t\t\thover = false;\n\t\t  }\n\t\t});\n\t  };\n  \n\t  var onHover = function(x, y) {\n\t\tTweenMax.to($self, 0.4, {\n\t\t  x: x * 0.2,\n\t\t  y: y * 0.2,\n\t\t  //scale: .9,\n\t\t  ease: Power2.easeOut\n\t\t});\n\t  };\n\t  var onLeave = function() {\n\t\tTweenMax.to($self, 1, {\n\t\t  x: 0,\n\t\t  y: 0,\n\t\t  scale: 1,\n\t\t  rotation: 0,\n\t\t  ease: Back.easeOut.config(1.2, 0.4)\n\t\t});\n\t  };\n  \n\t  attachEventsListener();\n\t});\n  };\n  \n  hoverMouse($('#hide-intro'));\n\n\n \n\n\n  \nconst noclipTrigger = document.getElementById('video_noclip');\nconst noclipTriggerContext = noclipTrigger.getContext('2d');\n\nnoclipTrigger.height = screen.height;\nnoclipTrigger.width = screen.width;\n\nconst noclipTriggerInfo = {\n\ttotalFrames : 145,\n\ttotalTime:7,\n\timages:[],\n\tcurrentFrame:19,\n\tcurrentImage : (index) => `./images/noclipFrames/ezgif-frame-${index.toString().padStart(3,\"0\")}.jpg`,\n};\n\nfor (let i=0; i <= noclipTriggerInfo.totalFrames; i++){\n\tconst img = new Image();\n\timg.src = noclipTriggerInfo.currentImage(i);\n\tnoclipTriggerInfo.images.push(img);\n}\n\ngsap.to(noclipTriggerInfo,{\n\tcurrentFrame: noclipTriggerInfo.totalFrames,\n\tsnap:\"currentFrame\",\n\tease:\"none\",\n\tscrollTrigger:{\n\t\ttrigger: '#video_noclip',\n\t\tstart:\"top\",\n\t\t// end:`bottom+=${noclipTrigger.totalFrames*noclipTriggerInfo.totalTime}`,\n\t\tend: 'bottom',\n\t\tpin:'#video_noclip',\n\t\tscrub:true,\n\t\tmarkers:true\n\t},\n\tonUpdate:render,\n});\n\n\nnoclipTriggerInfo.images[0].onload = () => {\n\tnoclipTriggerContext.drawImage(\n\t\tnoclipTriggerInfo.images[0],\n\t\t 0, \n\t\t 0\n\t);\n}\n\nnoclipTriggerInfo.images[0].onload = () => {\n\tnoclipTriggerContext.drawImage(noclipTriggerInfo.images[0], 0, 0)\n};\n\n\nfunction render(){\n\tnoclipTriggerContext.drawImage(\n\t\tnoclipTriggerInfo.images[noclipTriggerInfo.currentFrame],\n\t\t 0, \n\t\t 0\n\t);\n}\n\nrender();\n\nvar vid = document.getElementById(\"myAudio\");\nvid.volume = 0.2;\n\n\n\n\n\n\n\n\n\n\n\n\n\n"],"names":["gsap","ScrollTrigger","text","SplitText","aboutIntro","raf","time","lenisText","Lenis","t","dust","br1","titleTrigger","lenis","intro","hideIntro","hoverMouse","$el","$self","hover","offsetHoverMax","offsetHoverMin","attachEventsListener","e","hoverArea","cursor","width","height","offset","elPos","x","y","dist","mutHover","onHover","onLeave","noclipTrigger","noclipTriggerContext","noclipTriggerInfo","index","i","img","render","vid"],"mappings":"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"}